(this["webpackJsonpxelix-react-project"]=this["webpackJsonpxelix-react-project"]||[]).push([[0],{49:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(2),c=n.n(r),s=n(20),o=n.n(s),i=n(8),u=n.n(i),l=n(11),m=n(4),h=n(5),p=n(7),d=n(6),f=n(3),b=n.n(f),j=function(){function e(t){Object(m.a)(this,e),this.cafe=t}return Object(h.a)(e,[{key:"getSystem",value:function(){return b.a.get(this.cafe,"system",null)}},{key:"getElements",value:function(){var e=this.cafe.elements;return e||null}},{key:"getId",value:function(){var e=this.getSystem();return e&&e.id?e.id:null}},{key:"getName",value:function(){var e=this.getSystem();return e?b.a.get(e,"name",null):null}},{key:"getElementItem",value:function(e){var t=this.getElements(),n=b.a.get(t,e);return n?b.a.get(n,"value",null):null}},{key:"getPhoto",value:function(){var e=this.getElementItem("photo");if(e[0].url)return e[0].url}},{key:"prepareCafeItemObject",value:function(){return{id:this.getId(),name:this.getName(),email:this.getElementItem("email"),phone_number:this.getElementItem("phone"),city:this.getElementItem("city"),street:this.getElementItem("street"),zip_code:this.getElementItem("zip_code"),image:this.getPhoto()}}}]),e}(),v=n(9),g=n.n(v);g.a.defaults.baseURL="https://deliver.kenticocloud.com/".concat("b61a77df-b2e3-0095-a454-64ffc39d06d3"),g.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||console.log(e),Promise.reject(e)}));var O={get:g.a.get};function y(){return function(e,t){return O.get(e,t)}("items",{params:{"system.type":"cafe"}})}var x=n(21),k=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).raiseSort=function(t){var n=Object(x.a)({},e.props.sortColumn);n.path===t?n.order="asc"===n.order?"desc":"asc":(n.path=t,n.order="asc"),e.props.onSort(n)},e.renderSortIcon=function(t){var n=e.props.sortColumn;return t.path!==n.path?null:"asc"===n.order?Object(a.jsx)("i",{className:"fa fa-sort-asc"}):Object(a.jsx)("i",{className:"fa fa-sort-desc"})},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsx)("thead",{children:Object(a.jsx)("tr",{children:this.props.columns.map((function(t){return Object(a.jsxs)("th",{className:"clickable",onClick:function(){return e.raiseSort(t.path)},scope:"col",children:[t.label," ",e.renderSortIcon(t)]},t.path||t.key)}))})})}}]),n}(r.Component),C=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).renderCell=function(e,t){return t.content?t.content(e):b.a.get(e,t.path)},e.createKey=function(e,t){return e.id+(t.path||t.key)},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.columns;return Object(a.jsx)("tbody",{children:n.map((function(t){return Object(a.jsx)("tr",{children:r.map((function(n){return Object(a.jsx)("td",{children:e.renderCell(t,n)},e.createKey(t,n))}))},t.id)}))})}}]),n}(r.Component),I=function(e){var t=e.columns,n=e.onSort,r=e.sortColumn,c=e.data;return Object(a.jsxs)("table",{className:"table table-bordered table-striped table-responsive-stack",children:[Object(a.jsx)(k,{columns:t,sortColumn:r,onSort:n}),Object(a.jsx)(C,{data:c,columns:t})]})},S=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={cafeItems:[],sortColumn:{path:"title",order:"asc"}},e.handleSort=function(t){e.setState({sortColumn:t})},e.getSortedData=function(){var t=e.state,n=t.sortColumn,a=t.cafeItems;return b.a.orderBy(a,[n.path],[n.order])},e}return Object(h.a)(n,[{key:"renderImageLink",value:function(e){return e?Object(a.jsx)("a",{href:e,target:"_blank",children:"Image"}):""}},{key:"mutateCafeItems",value:function(e){var t=this;return e.map((function(e){var n=new j(e).prepareCafeItemObject();return n.image=t.renderImageLink(n.image),n}))}},{key:"updateCafeItems",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y();case 3:if((t=e.sent).data&&t.data.items){e.next=6;break}return e.abrupt("return");case 6:this.setState({cafeItems:this.mutateCafeItems(t.data.items)}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.updateCafeItems();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.sortColumn;return Object(a.jsx)("div",{className:"cafe-list",children:Object(a.jsx)(I,{columns:[{path:"name",label:"Name"},{path:"email",label:"Email"},{path:"phone_number",label:"Phone Number"},{path:"city",label:"City"},{path:"street",label:"Street"},{path:"zip_code",label:"Zip Code"},{path:"image",label:"Image"}],sortColumn:e,data:this.getSortedData(),onSort:this.handleSort})})}}]),n}(r.Component),N=function(){return Object(a.jsx)("nav",{className:"navbar navbar-expand-sm bg-dark navbar-dark",children:Object(a.jsx)("span",{className:"navbar-brand",href:"#",children:"Kentico Cafe"})})},E=function(){return Object(a.jsxs)("div",{className:"app",children:[Object(a.jsx)(N,{}),Object(a.jsx)("main",{className:"container",children:Object(a.jsx)(S,{})})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};n(47),n(48);o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(E,{})}),document.getElementById("root")),w()}},[[49,1,2]]]);
//# sourceMappingURL=main.b54aa5b5.chunk.js.map